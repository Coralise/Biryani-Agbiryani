<div class="center" id="navbar" style="background-color: rgba(255, 255, 255, 0.25);">
    <div class="container flex flex-gap height-100" ><img src="images/BAB_Logo_Black.svg" alt="" />
        <div class="width-100 flex align-center space-between">
            <div class="flex flex-gap align-center">
                <a class="nav-button" href="/">Home</a>
            </div>
            <div class="flex flex-gap height-100 align-center">
                <a id="cart-button" class="clean bold" href="/cart">
                    <i class="fa-solid fa-cart-shopping"></i> 0
                </a>
                <a id="account-button" class="clean bold" href="<%- User === null ? "/login" : "/profile" %>">
                    <i class="fa-solid fa-user"></i> <%- User === null ? "Login" : `Welcome, ${User.displayName}!` %>
                </a>
            </div>
        </div>
    </div>
</div>
<script>
    function updateCartNum() {
        let cart = JSON.parse(localStorage.getItem("cart")) || {}
        let num = 0
        for (let docId of Object.keys(cart)) num += parseInt(cart[docId])
        console.log(num)
        document.getElementById("cart-button").innerHTML = `<i class="fa-solid fa-cart-shopping"></i> ${num}`
    }
    updateCartNum()

    function logout() {
        fetch("/api/logout")
    }
</script>